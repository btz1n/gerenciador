{% extends "base.html" %}
{% block content %}

<div class="grid2">
  <div class="card">
    <div class="h3">Cadastrar produto</div>
    <form method="post" action="/products/create" class="form">
      <label class="label">Nome</label>
      <input class="input" name="name" required>

      <label class="label">SKU (opcional)</label>
      <input class="input" name="sku">

      <div class="row gap">
        <div style="flex:1;">
          <label class="label">Preço</label>
          <input class="input" name="price" type="number" step="0.01" value="0">
        </div>
        <div style="flex:1;">
          <label class="label">Estoque</label>
          <input class="input" name="stock" type="number" step="1" value="0">
        </div>
      </div>

      <button class="btn primary full" type="submit">Salvar</button>
    </form>
  </div>

  <div class="card">
    <div class="row between">
      <div class="h3">Lista</div>
      <div class="muted">{{ products|length }} itens</div>
    </div>

    <div class="table-wrap">
      <table class="table">
        <thead><tr><th>Nome</th><th>SKU</th><th>Preço</th><th>Estoque</th></tr></thead>
        <tbody>
        {% for p in products %}
          <tr>
            <td>{{ p.name }}</td>
            <td class="muted">{{ p.sku or "-" }}</td>
            <td>R$ {{ "%.2f"|format(p.price) }}</td>
            <td>{{ p.stock }}</td>
          </tr>
        {% else %}
          <tr><td colspan="4" class="muted">Sem produtos.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}